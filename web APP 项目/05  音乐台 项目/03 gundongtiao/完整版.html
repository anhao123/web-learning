<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0,user-scalable=no,minimum-scale=1.0,maximum-scale=1.0">
    <title>Title</title>
    <link rel="stylesheet" href="css/yinyue.css">
</head>
<body>
 <div class="wrap">
     <div class="scrollBar"></div>
     <div class="head">
         <div class="head-top">
             <h1 class="logo">
                 <a href="http://yy64.cn/">
                     <img src="img/logo.png" alt="logo">
                 </a>
             </h1>
             <a href="javascript:;" class="menuBtn "></a>
             <div class="btns">
                 <a href="javascript:;" class="sou">搜索</a>
                 <a href="javascript:;">登录</a>
                 <a href="javascript:;">搜索</a>
             </div>
         </div>
         <div class="head-bottom">
             <form action="">
                 <input type="text" placeholder="请输入"/>
                 <input type="submit" value="搜索">
             </form>
         </div>
         <div class="mask">
             <ul>
                 <li>
                     <a href="javascript:;">首页</a>
                 </li>
                     <li> <a href="javascript:;">MV</a></li>
                     <li> <a href="javascript:;">悦单</a></li>
                     <li> <a href="javascript:;">V榜</a></li>
                     <li> <a href="javascript:;">音乐</a></li>
                     <li> <a href="javascript:;">商城</a></li>
                     <li> <a href="javascript:;">节目</a></li>
                    <li> <a href="javascript:;">饭团</a></li>
                    <li>  <a href="javascript:;">咨询</a></li>
                     <li> <a href="javascript:;">我的家</a></li>
                     <li> <a href="javascript:;">APP下载</a></li>
                    <li> <a href="javascript:;">热门应用</a></li>
             </ul>
         </div>
     </div>
     <!--内容区-->
     <div class="content">
         <div>
             <!--导航-->
             <div class="drap-nav">
                 <ul class="list">
                     <li class="active">
                         <a href="javascript:;">首页</a>
                     </li>
                     <li> <a href="javascript:;">MV</a></li>
                     <li> <a href="javascript:;">悦单</a></li>
                     <li> <a href="javascript:;">V榜</a></li>
                     <li> <a href="javascript:;">音乐</a></li>
                     <li> <a href="javascript:;">商城</a></li>
                     <li> <a href="javascript:;">节目</a></li>
                     <li> <a href="javascript:;">饭团</a></li>
                     <li>  <a href="javascript:;">咨询</a></li>
                     <li> <a href="javascript:;">我的家</a></li>
                     <li> <a href="javascript:;">APP下载</a></li>
                     <li> <a href="javascript:;">热门应用</a></li>
                     <li>  <a href="javascript:;">咨询</a></li>
                     <li> <a href="javascript:;">我的家</a></li>
                     <li> <a href="javascript:;">APP下载</a></li>
                     <li> <a href="javascript:;">热门应用</a></li>
                     <li>  <a href="javascript:;">咨询</a></li>
                     <li> <a href="javascript:;">我的家</a></li>
                     <li> <a href="javascript:;">APP下载</a></li>
                     <li> <a href="javascript:;">热门应用</a></li>

                 </ul>
             </div>
             <!--lunbo-->
             <div class="carouse-wrap" needzidong needcarousel>
                 <div class="carouse-point"></div>
             </div>
             <!--选项卡-->
             <div class="nav-content">
                 <div class="nav-head">
                     <h3>MV主播</h3>
                     <span>更多></span>
                 </div>
                 <div class="nav">
                     <a href="javascript:;">全国</a>
                     <a href="javascript:;">内地</a>
                     <a href="javascript:;">港台</a>
                     <a href="javascript:;">欧美</a>
                     <a href="javascript:;">韩国</a>
                     <a href="javascript:;">日本</a>
                     <div class="flagG"></div>
                 </div>
                 <div class="nav-bottom">
                     <ul class="tap-loading"></ul>
                     <ul>
                         <li>
                             <a href="javascript:;">
                                 <img src="img/a.jpg">
                                 <span>君に贈る花がないがないがないがないがないがないがない</span>
                             </a>
                             <div class="left">
                                 <span></span>
                                 <span>9962</span>
                             </div>
                             <div class="right">
                                 <span></span>
                                 <span>6</span>
                             </div>
                         </li>
                         <li>
                             <a href="javascript:;">
                                 <img src="img/b.jpg">
                                 <span>君に贈る花がないがないがないがないがないがないがない</span>
                             </a>
                             <div class="left">
                                 <span></span>
                                 <span>9962</span>
                             </div>
                             <div class="right">
                                 <span></span>
                                 <span>6</span>
                             </div>
                         </li>
                         <li>
                             <a href="javascript:;">
                                 <img src="img/c.jpg">
                                 <span>君に贈る花がないがないがないがないがないがないがない</span>
                             </a>
                             <div class="left">
                                 <span></span>
                                 <span>9962</span>
                             </div>
                             <div class="right">
                                 <span></span>
                                 <span>6</span>
                             </div>
                         </li>
                         <li>
                             <a href="javascript:;">
                                 <img src="img/d.jpg">
                                 <span>君に贈る花がないがないがないがないがないがないがない</span>
                             </a>
                             <div class="left">
                                 <span></span>
                                 <span>9962</span>
                             </div>
                             <div class="right">
                                 <span></span>
                                 <span>6</span>
                             </div>
                         </li>
                         <li>
                             <a href="javascript:;">
                                 <img src="img/e.jpg">
                                 <span>君に贈る花がないがないがないがないがないがないがない</span>
                             </a>
                             <div class="left">
                                 <span></span>
                                 <span>9962</span>
                             </div>
                             <div class="right">
                                 <span></span>
                                 <span>6</span>
                             </div>
                         </li>
                         <li>
                             <a href="javascript:;">
                                 <img src="img/f.jpg">
                                 <span>君に贈る花がないがないがないがないがないがないがない</span>
                             </a>
                             <div class="left">
                                 <span></span>
                                 <span>9962</span>
                             </div>
                             <div class="right">
                                 <span></span>
                                 <span>6</span>
                             </div>
                         </li>
                     </ul>
                     <ul class="tap-loading"></ul>
                 </div>
             </div>
             <div class="nav-content">
                 <div class="nav-head">
                     <h3>MV主播</h3>
                     <span>更多></span>
                 </div>
                 <div class="nav">
                     <a href="javascript:;">全国</a>
                     <a href="javascript:;">内地</a>
                     <a href="javascript:;">港台</a>
                     <a href="javascript:;">欧美</a>
                     <a href="javascript:;">韩国</a>
                     <a href="javascript:;">日本</a>
                     <div class="flagG"></div>
                 </div>
                 <div class="nav-bottom">
                     <ul class="tap-loading"></ul>
                     <ul>
                         <li>
                             <a href="javascript:;">
                                 <img src="img/a.jpg">
                                 <span>君に贈る花がないがないがないがないがないがないがない</span>
                             </a>
                             <div class="left">
                                 <span></span>
                                 <span>9962</span>
                             </div>
                             <div class="right">
                                 <span></span>
                                 <span>6</span>
                             </div>
                         </li>
                         <li>
                             <a href="javascript:;">
                                 <img src="img/b.jpg">
                                 <span>君に贈る花がないがないがないがないがないがないがない</span>
                             </a>
                             <div class="left">
                                 <span></span>
                                 <span>9962</span>
                             </div>
                             <div class="right">
                                 <span></span>
                                 <span>6</span>
                             </div>
                         </li>
                         <li>
                             <a href="javascript:;">
                                 <img src="img/c.jpg">
                                 <span>君に贈る花がないがないがないがないがないがないがない</span>
                             </a>
                             <div class="left">
                                 <span></span>
                                 <span>9962</span>
                             </div>
                             <div class="right">
                                 <span></span>
                                 <span>6</span>
                             </div>
                         </li>
                         <li>
                             <a href="javascript:;">
                                 <img src="img/d.jpg">
                                 <span>君に贈る花がないがないがないがないがないがないがない</span>
                             </a>
                             <div class="left">
                                 <span></span>
                                 <span>9962</span>
                             </div>
                             <div class="right">
                                 <span></span>
                                 <span>6</span>
                             </div>
                         </li>
                         <li>
                             <a href="javascript:;">
                                 <img src="img/e.jpg">
                                 <span>君に贈る花がないがないがないがないがないがないがない</span>
                             </a>
                             <div class="left">
                                 <span></span>
                                 <span>9962</span>
                             </div>
                             <div class="right">
                                 <span></span>
                                 <span>6</span>
                             </div>
                         </li>
                         <li>
                             <a href="javascript:;">
                                 <img src="img/f.jpg">
                                 <span>君に贈る花がないがないがないがないがないがないがない</span>
                             </a>
                             <div class="left">
                                 <span></span>
                                 <span>9962</span>
                             </div>
                             <div class="right">
                                 <span></span>
                                 <span>6</span>
                             </div>
                         </li>
                     </ul>
                     <ul class="tap-loading"></ul>
                 </div>
             </div>
             <div class="nav-content">
                 <div class="nav-head">
                     <h3>MV主播</h3>
                     <span>更多></span>
                 </div>
                 <div class="nav">
                     <a href="javascript:;">全国</a>
                     <a href="javascript:;">内地</a>
                     <a href="javascript:;">港台</a>
                     <a href="javascript:;">欧美</a>
                     <a href="javascript:;">韩国</a>
                     <a href="javascript:;">日本</a>
                     <div class="flagG"></div>
                 </div>
                 <div class="nav-bottom">
                     <ul class="tap-loading"></ul>
                     <ul>
                         <li>
                             <a href="javascript:;">
                                 <img src="img/a.jpg">
                                 <span>君に贈る花がないがないがないがないがないがないがない</span>
                             </a>
                             <div class="left">
                                 <span></span>
                                 <span>9962</span>
                             </div>
                             <div class="right">
                                 <span></span>
                                 <span>6</span>
                             </div>
                         </li>
                         <li>
                             <a href="javascript:;">
                                 <img src="img/b.jpg">
                                 <span>君に贈る花がないがないがないがないがないがないがない</span>
                             </a>
                             <div class="left">
                                 <span></span>
                                 <span>9962</span>
                             </div>
                             <div class="right">
                                 <span></span>
                                 <span>6</span>
                             </div>
                         </li>
                         <li>
                             <a href="javascript:;">
                                 <img src="img/c.jpg">
                                 <span>君に贈る花がないがないがないがないがないがないがない</span>
                             </a>
                             <div class="left">
                                 <span></span>
                                 <span>9962</span>
                             </div>
                             <div class="right">
                                 <span></span>
                                 <span>6</span>
                             </div>
                         </li>
                         <li>
                             <a href="javascript:;">
                                 <img src="img/d.jpg">
                                 <span>君に贈る花がないがないがないがないがないがないがない</span>
                             </a>
                             <div class="left">
                                 <span></span>
                                 <span>9962</span>
                             </div>
                             <div class="right">
                                 <span></span>
                                 <span>6</span>
                             </div>
                         </li>
                         <li>
                             <a href="javascript:;">
                                 <img src="img/e.jpg">
                                 <span>君に贈る花がないがないがないがないがないがないがない</span>
                             </a>
                             <div class="left">
                                 <span></span>
                                 <span>9962</span>
                             </div>
                             <div class="right">
                                 <span></span>
                                 <span>6</span>
                             </div>
                         </li>
                         <li>
                             <a href="javascript:;">
                                 <img src="img/f.jpg">
                                 <span>君に贈る花がないがないがないがないがないがないがない</span>
                             </a>
                             <div class="left">
                                 <span></span>
                                 <span>9962</span>
                             </div>
                             <div class="right">
                                 <span></span>
                                 <span>6</span>
                             </div>
                         </li>
                     </ul>
                     <ul class="tap-loading"></ul>
                 </div>
             </div>
             <div class="nav-content">
                 <div class="nav-head">
                     <h3>MV主播</h3>
                     <span>更多></span>
                 </div>
                 <div class="nav">
                     <a href="javascript:;">全国</a>
                     <a href="javascript:;">内地</a>
                     <a href="javascript:;">港台</a>
                     <a href="javascript:;">欧美</a>
                     <a href="javascript:;">韩国</a>
                     <a href="javascript:;">日本</a>
                     <div class="flagG"></div>
                 </div>
                 <div class="nav-bottom">
                     <ul class="tap-loading"></ul>
                     <ul>
                         <li>
                             <a href="javascript:;">
                                 <img src="img/a.jpg">
                                 <span>君に贈る花がないがないがないがないがないがないがない</span>
                             </a>
                             <div class="left">
                                 <span></span>
                                 <span>9962</span>
                             </div>
                             <div class="right">
                                 <span></span>
                                 <span>6</span>
                             </div>
                         </li>
                         <li>
                             <a href="javascript:;">
                                 <img src="img/b.jpg">
                                 <span>君に贈る花がないがないがないがないがないがないがない</span>
                             </a>
                             <div class="left">
                                 <span></span>
                                 <span>9962</span>
                             </div>
                             <div class="right">
                                 <span></span>
                                 <span>6</span>
                             </div>
                         </li>
                         <li>
                             <a href="javascript:;">
                                 <img src="img/c.jpg">
                                 <span>君に贈る花がないがないがないがないがないがないがない</span>
                             </a>
                             <div class="left">
                                 <span></span>
                                 <span>9962</span>
                             </div>
                             <div class="right">
                                 <span></span>
                                 <span>6</span>
                             </div>
                         </li>
                         <li>
                             <a href="javascript:;">
                                 <img src="img/d.jpg">
                                 <span>君に贈る花がないがないがないがないがないがないがない</span>
                             </a>
                             <div class="left">
                                 <span></span>
                                 <span>9962</span>
                             </div>
                             <div class="right">
                                 <span></span>
                                 <span>6</span>
                             </div>
                         </li>
                         <li>
                             <a href="javascript:;">
                                 <img src="img/e.jpg">
                                 <span>君に贈る花がないがないがないがないがないがないがない</span>
                             </a>
                             <div class="left">
                                 <span></span>
                                 <span>9962</span>
                             </div>
                             <div class="right">
                                 <span></span>
                                 <span>6</span>
                             </div>
                         </li>
                         <li>
                             <a href="javascript:;">
                                 <img src="img/f.jpg">
                                 <span>君に贈る花がないがないがないがないがないがないがない</span>
                             </a>
                             <div class="left">
                                 <span></span>
                                 <span>9962</span>
                             </div>
                             <div class="right">
                                 <span></span>
                                 <span>6</span>
                             </div>
                         </li>
                     </ul>
                     <ul class="tap-loading"></ul>
                 </div>
             </div>
         </div>

     </div>
 </div>
 <script src="js/carousel%20.js"></script>
 <script src="js/tools.js"></script>
 <script type="text/javascript">
      window.onload=function () {
          //全面禁止 默认事件  包括 禁止系统滚动条
          /*var wrap=document.querySelector(".wrap")
             wrap.addEventListener("touchstart",function (ev) {
                 ev=ev||event
                 ev.preventDefault()
             })*/
             ;(function () {//rem 适配
                var style=document.createElement("style")
                var w=document.documentElement.clientWidth/16
                style.innerHTML="html{font-size:"+w+"px!important}"
                document.head.appendChild(style)
          })()
          //滚动条
             move();
            function move() {
              var wrap=document.querySelector(".wrap .content")
                var scroll=document.querySelector(".wrap .scrollBar")
                var head=document.querySelector(".wrap .head")
                var content= document.querySelector(".wrap .content>div")
                var scale=document.documentElement.clientHeight/(head.offsetHeight+content.offsetHeight)
                scroll.style.height=document.documentElement.clientHeight*scale+"px"
                var callBack={
                    start:function () {
                        scroll.style.opacity=1;
                    },
                    move:function () {
                        var scale=css.transform(this,"translateY")/(content.offsetHeight-wrap.offsetHeight)
                        /*实时距离/最大距离 */
                        css.transform(scroll,"translateY",-scale*(document.documentElement.clientHeight-scroll.offsetHeight))
                    },
                    end:function () {
                        scroll.style.opacity=0;
                    }
                }
                css.dongY(wrap,callBack);
            }
          //tap 切换
          tapChanged();
          function tapChanged(){
              var tapWrap=document.querySelectorAll(".wrap .content .nav-content")
              for(var i=0;i<tapWrap.length;i++){
                  move(tapWrap[i])
              }
              function move(tapwrap) {
                  var navBottom=tapwrap.querySelector(".nav-bottom")
                  var tapLoadings=navBottom.querySelectorAll(".tap-loading")
                  var aNode=tapwrap.querySelectorAll(".nav a")
                  var flagG=tapwrap.querySelector(".nav .flagG")
                  var w=tapwrap.clientWidth
                  css.transform(navBottom,"translateX",-w);
                  var client={x:0,y:0}
                  var start={x:0,y:0}
                  var isX=true;
                  var isFirst=true
                  var isOne=false
                  var smallG=0;
                  navBottom.addEventListener("touchstart",function (e) {
                      if (isOne){
                          return;
                      }
                      e=e||event
                      var touchC=e.changedTouches[0]
                      client.x=css.transform(navBottom,"translateX");
                      client.y=css.transform(navBottom,"translateY");
                      start.x=touchC.clientX
                      start.y=touchC.clientY

                      navBottom.style.transition="none"
                      isX=true;
                      isFirst=true
                  })
                  navBottom.addEventListener("touchmove",function (e) {
                      if (isOne){
                          return;
                      }
                      if(!isX){
                          return;
                      }
                      e=e||event
                      var touchC=e.changedTouches[0]
                      var now={x:0,y:0}
                      var dis={x:0,y:0}
                      now.x=touchC.clientX
                      now.y=touchC.clientY
                      dis.x=now.x-start.x
                      dis.y=now.y-start.y
                      //防抖
                      if(isFirst){
                          isFirst=false
                          if(Math.abs(dis.y)>Math.abs(dis.x)){
                              isX=false
                              return;
                          }
                      }
                      css.transform(navBottom,"translateX",dis.x+client.x);
                      //jump 只能执行一次
                      jump(dis.x)
                  })
                  navBottom.addEventListener("touchend",function (e) {
                      if (isOne){
                          return;
                      }
                      e=e||event
                      var touchC=e.changedTouches[0]
                      var now={x:0,y:0}
                      var dis={x:0,y:0}
                      now.x=touchC.clientX
                      dis.x=now.x-start.x
                      if(Math.abs(dis.x)<w/2){
                          navBottom.style.transition="0.6s transform"
                          css.transform(navBottom,"translateX",-w);
                      }
                  })
                  function jump(disX) {
                      if (isOne){
                          return;
                      }
                      if(Math.abs(disX)>w/2){
                          isOne=true

                          var targetX=disX>0?0:-2*w
                          navBottom.style.transition="0.6s transform"
                          css.transform(navBottom,"translateX",targetX);
                          //小绿下标
                          disX>0?smallG--:smallG++;
                          if(smallG<0){
                              smallG=aNode.length-1
                          }else if(smallG>aNode.length-1){
                              smallG=0
                          }
                          /*console.log(aNode[smallG].offsetLeft)
                          var xx=aNode[smallG].offsetLeft+'px'*/
                          //console.log(flagG)
                          css.transform(flagG,"translateX",aNode[smallG].offsetLeft);

                          //动画执行完之后 触发的事件
                          navBottom.addEventListener("webkitTransitionEnd",end)
                      }
                      function end() {
                          navBottom.style.transition="none"
                          navBottom.removeEventListener("webkitTransitionEnd",end)
                          for(var i=0;i<tapLoadings.length;i++){
                              tapLoadings[i].style.opacity= "1";
                          }
                          //异步请求
                          setTimeout(function () {
                              for(var i=0;i<tapLoadings.length;i++){
                                  tapLoadings[i].style.opacity= "0";
                              }
                              css.transform(navBottom,"translateX",-w);
                              isOne=false
                          },1500)
                      }
                  }
              }

          }

          //点击Nav 换色
          navcolor();//事件委托
           function navcolor() {
               var ul=document.querySelector(".drap-nav .list")
               var lis=document.querySelectorAll(".drap-nav .list li")
               /*li 点击 换背景*/
               ul.addEventListener("touchstart",function () {
                   this.flag=false
               })
               ul.addEventListener("touchmove",function () {
                   this.flag=true
               })
               ul.addEventListener("touchend",function (e) {
                       e=e||event
                   var touchC=e.changedTouches[0]
                   if(!this.flag){
                       for(var i=0;i<lis.length;i++){
                           // lis[i].classList.remove("active")
                           tools.removeClass(lis[i],"active")
                       }
                       if(touchC.target.nodeName==='A'){
                           // touchC.target.parentNode.classList.add('active')
                           // touchC.target.parentElement.className='active'
                           tools.addClass(touchC.target.parentNode,"active")
                       }else if (touchC.target.nodeName.toUpperCase()==='LI'){
                           // touchC.target.classList.add('active')
                           tools.addClass(touchC.target,"active")
                       }
                   }
               })
              /* for(var i=0;i<lis.length;i++){
                   lis[i].addEventListener("touchstart",function (e) {
                       // this.index=i
                       this.flag=false
                   })
                   lis[i].addEventListener("touchmove",function () {
                       // this.index=i
                       this.flag=true
                   })
                   lis[i].addEventListener("touchend",function (e) {

                       if(!this.flag){
                           for(var i=0;i<lis.length;i++){
                               lis[i].classList.remove("active")
                           }
                           this.classList.add("active")
                       }
                   })
               }*/
           }
          //carousel  轮播
          carousel();
          function carousel() {
              var arr=["img/1.jpg","img/2.jpg","img/3.jpg","img/5.jpg",]
              css.carousel(arr);
          }

          //导航拉动效果
          css.navDong();

        // 面包屑 导航
          menuBtn()
          function menuBtn(){
              var mask=document.querySelector(".head>.mask")
              var menuBtn=document.querySelector(".head>.head-top>.menuBtn")
              var flag=true
              menuBtn.addEventListener("touchstart",function (e) {
                  e=e||event
                  var touchC=e.changedTouches[0]
                  if(flag){
                      menuBtn.classList.add("active")
                      mask.style.display="block"
                  }else{
                      menuBtn.classList.remove("active")
                      mask.style.display="none"
                  }
                  flag=!flag
                  e.stopPropagation()
                  /*哪里阻止了冒泡一定要在哪里阻止默认事件*/
                  e.preventDefault()
              })
              document.addEventListener("touchstart",function () {
                  if(!flag){
                      menuBtn.classList.remove("active")
                      mask.style.display="none"
                      flag=!flag
                  }
              })
              mask.addEventListener("touchstart",function (e) {
                  e=e||event
                  e.stopPropagation()
                  /*哪里阻止了冒泡一定要在哪里阻止默认事件*/
                  e.preventDefault()
              })
          }
          
          //搜索框 得到 失去焦点
         focusBlur()
          function focusBlur(){
                 var inputText=document.querySelector(".wrap .head .head-bottom form input[type='text']")
              inputText.addEventListener("touchstart",function (e) {
                  e=e||event
                  this.focus()
                  e.stopPropagation()
                  e.preventDefault()
              })
              document.addEventListener("touchstart",function (e) {
                  e=e||event
                  inputText.blur()
              })
          }

      }
  </script>
</body>
</html>